drop table if exists status cascade;
create table status(
    id              serial not null primary key,
    status          text not null unique
);

INSERT INTO status(status) VALUES ('Behandles'), ('Afventer betaling'), ('Betalt'), ('Ude for levering'), ('Leveret'), ('Annulleret');

drop table if exists width cascade;
create table width(
    width          integer not null primary key unique
);

INSERT INTO width(width) VALUES (240),(270),(300),(330),(360),(390),(420),(450),(480),(510),(540),(570),(600);

drop table if exists length cascade;
create table length(
    length          integer not null primary key unique
);

INSERT INTO length(length) VALUES (240),(270),(300),(330),(360),(390),(420),(450),(480),(510),(540),(570),(600);


drop table if exists height cascade;
create table height(
    height          integer not null primary key unique
);

INSERT INTO height(height) VALUES (230);

drop table if exists carport cascade;
create table carport(
    id              serial not null primary key,
    width           integer not null,
    length          integer not null,
    height          integer not null,
    has_shed        boolean not null,
    constraint fk_carport_width foreign key (width)
    references width(width),
    constraint fk_carport_length foreign key (length)
    references length(length),
    constraint fk_carport_height foreign key (height)
    references height(height)
);

drop table if exists shed cascade;
create table shed(
    id              serial not null primary key,
    carport_id      integer not null,
    width           integer not null,
    length          integer not null,
    height          integer not null,
    constraint fk_shed_carport foreign key (carport_id)
    references carport(id),
    constraint fk_shed_width foreign key (width)
    references width(width),
    constraint fk_shed_length foreign key (length)
    references length(length),
    constraint fk_shed_height foreign key (height)
    references height(height)
);

drop table if exists user_role cascade;
create table user_role(
    id              serial not null primary key,
    role            text not null unique
);

INSERT INTO user_role(role) VALUES ('Standard'),('Sælger'),('Admin');

drop table if exists zipcode cascade;
create table zipcode(
    postal_code     integer not null primary key unique,
    city_name       text not null
);

INSERT INTO zipcode(postal_code, city_name) VALUES (1000, 'København'), (8000, 'Aarhus'), (8200, 'Aarhus N'), (5000, 'Odense'), (9000, 'Aalborg'), (7100, 'Vejle'), (6000, 'Kolding'), (4000, 'Roskilde'), (8700, 'Horsens'), (2730, 'Herlev');

drop table if exists "user" cascade;
create table "user"(
    id              serial not null primary key,
    name            text not null,
    email           text not null unique,
    password        text not null,
    address         text not null,
    mobile          integer not null,
    role            integer not null default 1,
    zipcode         integer not null,
    constraint fk_user_zipcode foreign key (zipcode)
    references zipcode(postal_code),
    constraint fk_user_role foreign key (role)
    references user_role(id)
);

INSERT INTO "user" (name, email, password, address, mobile, role, zipcode) VALUES
    ('Anna Jensen', 'anna.jensen@email.com', 'password1', 'Hovedgaden 1', 12345678, 1, 1000),
    ('Morten Pedersen', 'morten.pedersen@email.com', 'password2', 'Bakkevej 2', 23456789, 2, 8000),
    ('Lise Hansen', 'lise.hansen@email.com', 'password3', 'Skovvej 3', 34567890, 3, 8200),
    ('Anders Nielsen', 'anders.nielsen@email.com', 'password4', 'Søgade 4', 45678901, 1, 5000),
    ('Maria Olsen', 'maria.olsen@email.com', 'password5', 'Havnegade 5', 56789012, 2, 9000),
    ('Søren Madsen', 'soren.madsen@email.com', 'password6', 'Banevej 6', 67890123, 3, 7100),
    ('Helle Christensen', 'helle.christensen@email.com', 'password7', 'Parkvej 7', 78901234, 1, 6000),
    ('Peter Larsen', 'peter.larsen@email.com', 'password8', 'Gadekær 8', 89012345, 2, 4000),
    ('Thomas Rasmussen', 'thomas.rasmussen@email.com', 'password9', 'Torvet 9', 90123456, 3, 8700),
    ('Karen Andersen', 'karen.andersen@email.com', 'password10', 'Strandvej 10', 12345678, 1, 2730);

drop table if exists "order" cascade;
create table "order"(
    id              serial not null primary key,
    date            date not null,
    customer_note   text,
    consent         boolean not null default false,
    user_id         integer not null,
    order_status    integer not null,
    carport_id      integer not null,
    constraint fk_user_id foreign key (user_id)
    references "user"(id),
    constraint fk_order_status foreign key (order_status)
    references status(id),
    constraint fk_order_carport foreign key (carport_id)
    references carport(id)
);


--KOPIER IKKE IND I DIN DATABASE--
Navn på databasen: fogs_carport
Vi bruger navnet orders, således at vi undgår

Noter:
Vi mangler at lave stykliste tabellen